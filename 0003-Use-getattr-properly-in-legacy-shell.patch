From 6df2f8c8405096528e4ded264bc38bd6ef17a7a5 Mon Sep 17 00:00:00 2001
From: Brian Waldon <bcwaldon@gmail.com>
Date: Fri, 22 Feb 2013 10:15:50 -0800
Subject: [PATCH] Use getattr properly in legacy shell

Fixes bug 1131703

Change-Id: If97f422af170c29785d2bf8884fafff979031e14
---
 glanceclient/v1/legacy_shell.py | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/glanceclient/v1/legacy_shell.py b/glanceclient/v1/legacy_shell.py
index 56bce65..99a1813 100644
--- a/glanceclient/v1/legacy_shell.py
+++ b/glanceclient/v1/legacy_shell.py
@@ -266,8 +266,9 @@ def _get_images(gc, args):
 
     optional_kwargs = ['marker', 'sort_key', 'sort_dir']
     for kwarg in optional_kwargs:
-        if getattr(args, kwarg):
-            parameters[kwarg] = getattr(args.kwarg)
+        value = getattr(args, kwarg, None)
+        if value is not None:
+            parameters[kwarg] = value
 
     return gc.images.list(**parameters)
 
